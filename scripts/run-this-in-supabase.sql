-- Execute this SQL in your Supabase SQL Editor\n-- This adds the delete functionality columns to support the new chat delete feature\n\n-- Add delete functionality columns to chat_conversations table\nALTER TABLE chat_conversations \nADD COLUMN IF NOT EXISTS deleted_by_user BOOLEAN DEFAULT FALSE,\nADD COLUMN IF NOT EXISTS deleted_by_admin BOOLEAN DEFAULT FALSE,\nADD COLUMN IF NOT EXISTS deleted_at TIMESTAMP WITH TIME ZONE;\n\n-- Add indexes for better query performance\nCREATE INDEX IF NOT EXISTS idx_chat_conversations_deleted_by_user ON chat_conversations(deleted_by_user);\nCREATE INDEX IF NOT EXISTS idx_chat_conversations_deleted_by_admin ON chat_conversations(deleted_by_admin);\nCREATE INDEX IF NOT EXISTS idx_chat_conversations_deleted_at ON chat_conversations(deleted_at);\n\n-- Comments for documentation\nCOMMENT ON COLUMN chat_conversations.deleted_by_user IS 'User has hidden this conversation from their view';\nCOMMENT ON COLUMN chat_conversations.deleted_by_admin IS 'Admin has archived this conversation from admin dashboard';\nCOMMENT ON COLUMN chat_conversations.deleted_at IS 'Timestamp when conversation was deleted/archived';\n